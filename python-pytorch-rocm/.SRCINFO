pkgbase = python-pytorch-rocm
	pkgdesc = Tensors and Dynamic neural networks in Python with strong GPU acceleration
	pkgver = 1.4.1
	pkgrel = 1
	url = https://github.com/pytorch/pytorch
	arch = x86_64
	license = unknown
	makedepends = cmake
	makedepends = python-setuptools
	makedepends = ninja
	makedepends = pkgconfig
	depends = google-glog
	depends = gflags
	depends = opencv
	depends = openmp
	depends = pybind11
	depends = python
	depends = python-yaml
	depends = python-numpy
	depends = ffmpeg
	depends = python-future
	depends = hip
	depends = hcc
	depends = comgr
	depends = rocrand
	depends = rocblas
	depends = miopen
	depends = rocfft
	depends = hipsparse
	depends = rccl
	depends = rocprim
	depends = hipcub
	depends = rocthrust
	depends = comgr
	provides = python-pytorch
	conflicts = python-pytorch
	source = pytorch-1.4.1::git+https://github.com/pytorch/pytorch.git#tag=v1.4.1
	source = https://patch-diff.githubusercontent.com/raw/pytorch/pytorch/pull/35359.patch
	source = fix_include_system.patch
	source = 0001-fix-loadHIP-use-RCCL-and-add-some-dirs.patch
	sha256sums = SKIP
	sha256sums = 1a67a90174276e9462e632df1bbb2e9fd7890f08da45d831edf1610c0e3e3c72
	sha256sums = ec47ff0819fec46639ba48f418d3a842530ba24e1804c5b77abbf735861a8648
	sha256sums = 4f8510120741a9344f0b4eb8688b19013db8067b4480d6eca35c13c3025a57ed

pkgname = python-pytorch-rocm
